!function(){"use strict";var e=window.wp.element,t=window.wp.plugins,l=window.wp.editPost,n=window.wp.compose,o=window.wp.data,r=window.wp.components,a=window.wp.blockEditor,i=(0,n.compose)([(0,o.withSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta"),l=t.glb_sermon_mp3;return{postMeta:t,postType:e("core/editor").getCurrentPostType(),sermonUrl:e("core").getMedia(l)}})),(0,o.withDispatch)((e=>({setPostMeta(t){e("core/editor").editPost({meta:t})}})))])((t=>{let{postType:n,postMeta:o,setPostMeta:i,sermonUrl:c}=t;if("sermon"!==n)return null;let s=null;return c&&(s=c.source_url),(0,e.createElement)(l.PluginDocumentSettingPanel,{title:"Sermon files",initialOpen:"true"},(0,e.createElement)(r.TextControl,{label:"Sermon Passage",value:o.glb_sermon_passage,onChange:e=>i({glb_sermon_passage:e}),help:"eg: John 3:1â€“19"}),(0,e.createElement)(r.TextControl,{label:"Sermon Date",value:o.glb_sermon_date,onChange:e=>i({glb_sermon_date:e}),type:"date"}),(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{i({glb_sermon_mp3:e.id.toString()}),s=e.url},allowedTypes:"audio",value:o.glb_sermon_mp3,render:t=>{let{open:l}=t;return(0,e.createElement)("div",null,s?(0,e.createElement)("div",null,(0,e.createElement)("p",null,"Sermon Mp3"),(0,e.createElement)("audio",{src:s,controls:!0,preload:"metadata"},"Test"),(0,e.createElement)(r.Button,{isSecondary:!0,onClick:l},"Replace mp3")):(0,e.createElement)("div",null,(0,e.createElement)("p",null,"Select the sermon to upload"),(0,e.createElement)(r.Button,{isPrimary:!0,onClick:l},"Select mp3")))}})))})),c=(0,n.compose)([(0,o.withSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta"),l=t.glb_podcast_mp3;return{postMeta:t,postType:e("core/editor").getCurrentPostType(),podcastUrl:e("core").getMedia(l)}})),(0,o.withDispatch)((e=>({setPostMeta(t){e("core/editor").editPost({meta:t})}})))])((t=>{let{postType:n,postMeta:o,setPostMeta:i,podcastUrl:c}=t;if("podcast"!==n)return null;let s=null;return c&&(s=c.source_url),(0,e.createElement)(l.PluginDocumentSettingPanel,{title:"Episode file",initialOpen:"true"},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{i({glb_podcast_mp3:e.id.toString()}),s=e.url},allowedTypes:"audio",value:o.glb_podcast_mp3,render:t=>{let{open:l}=t;return(0,e.createElement)("div",null,s?(0,e.createElement)("div",null,(0,e.createElement)("p",null,"Episode Mp3"),(0,e.createElement)("audio",{src:s,controls:!0,preload:"metadata"}),(0,e.createElement)(r.Button,{isSecondary:!0,onClick:l},"Replace mp3")):(0,e.createElement)("div",null,(0,e.createElement)("p",null,"Select the episode to upload"),(0,e.createElement)(r.Button,{isPrimary:!0,onClick:l},"Select mp3")))}})))}));(0,t.registerPlugin)("glb-sermon-fields",{icon:null,render(){return(0,e.createElement)(i,null)}}),(0,t.registerPlugin)("glb-podcast-fields",{icon:null,render(){return(0,e.createElement)(c,null)}})}();